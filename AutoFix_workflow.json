{
  "steps": {
    "ScanSemgrep_1": {
      "name": "ScanSemgrep",
      "id": 1,
      "x": 200.0,
      "y": 100.0,
      "inputs": [
        {
          "name": "sarif_file_path",
          "required": false,
          "type": "string"
        },
        {
          "name": "sarif_values",
          "required": false,
          "type": "json"
        },
        {
          "name": "semgrep_extra_args",
          "required": false,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "sarif_values",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {}
    },
    "ExtractCode_1": {
      "name": "ExtractCode",
      "id": 1,
      "x": 399.0,
      "y": 100.0,
      "inputs": [
        {
          "name": "context_size",
          "required": false,
          "type": "number"
        },
        {
          "name": "sarif_values",
          "required": true,
          "type": "json"
        },
        {
          "name": "severity",
          "required": false,
          "type": "string"
        },
        {
          "name": "vulnerability_limit",
          "required": false,
          "type": "number"
        }
      ],
      "outputs": [
        {
          "name": "files_to_patch",
          "required": false,
          "type": "json"
        },
        {
          "name": "prompt_values",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {
        "context_size": "1000",
        "vulnerability_limit": "10"
      }
    },
    "PreparePR_1": {
      "name": "PreparePR",
      "id": 1,
      "x": 600.0,
      "y": 100.0,
      "inputs": [
        {
          "name": "modified_code_files",
          "required": true,
          "type": "json"
        },
        {
          "name": "pr_header",
          "required": true,
          "type": "string"
        }
      ],
      "outputs": [
        {
          "name": "pr_body",
          "required": false,
          "type": "string"
        }
      ],
      "user_assigned_inputs": {}
    },
    "PreparePrompt_1": {
      "name": "PreparePrompt",
      "id": 1,
      "x": 200.0,
      "y": 249.0,
      "inputs": [
        {
          "name": "prompt_id",
          "required": true,
          "type": "string"
        },
        {
          "name": "prompt_template_file",
          "required": true,
          "type": "string"
        },
        {
          "name": "prompt_value_file",
          "required": true,
          "type": "string"
        },
        {
          "name": "prompt_values",
          "required": true,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "prompts",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {
        "prompt_template_file": "prompt.json",
        "prompt_id": "fix_prompt"
      }
    },
    "CallLLM_1": {
      "name": "CallLLM",
      "id": 1,
      "x": 400.0,
      "y": 249.0,
      "inputs": [
        {
          "name": "allow_truncated",
          "required": true,
          "type": "boolean"
        },
        {
          "name": "client_args",
          "required": true,
          "type": "string"
        },
        {
          "name": "google_api_key",
          "required": true,
          "type": "string"
        },
        {
          "name": "model",
          "required": true,
          "type": "string"
        },
        {
          "name": "model_args",
          "required": true,
          "type": "string"
        },
        {
          "name": "openai_api_key",
          "required": true,
          "type": "string"
        },
        {
          "name": "patched_api_key",
          "required": true,
          "type": "string"
        },
        {
          "name": "prompt_file",
          "required": true,
          "type": "string"
        },
        {
          "name": "prompts",
          "required": true,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "new_code",
          "required": false,
          "type": "json"
        },
        {
          "name": "openai_responses",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {
        "allow_truncated": "false",
        "model": "gpt-3.5-turbo"
      }
    },
    "ExtractModelResponse_1": {
      "name": "ExtractModelResponse",
      "id": 1,
      "x": 567.0,
      "y": 245.0,
      "inputs": [
        {
          "name": "openai_responses",
          "required": true,
          "type": "json"
        },
        {
          "name": "response_partitions",
          "required": true,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "extracted_responses",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {
        "response_partitions": "{\n  \"commit_message\": [\n    \"A. Commit message:\",\n    \"B. Change summary:\"\n  ],\n  \"patch_message\": [\n    \"B. Change summary:\",\n    \"C. Compatibility Risk:\"\n  ],\n  \"compatibility\": [\n    \"C. Compatibility Risk:\",\n    \"D. Fixed Code:\"\n  ],\n  \"patch\": [\n    \"D. Fixed Code:\",\n    \"```\",\n    \"\\n\",\n    \"```\"\n  ]\n}"
      }
    },
    "ModifyCode_1": {
      "name": "ModifyCode",
      "id": 1,
      "x": 202.0,
      "y": 401.0,
      "inputs": [
        {
          "name": "extracted_responses",
          "required": true,
          "type": "json"
        },
        {
          "name": "files_to_patch",
          "required": true,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "modified_code_files",
          "required": false,
          "type": "json"
        }
      ],
      "user_assigned_inputs": {}
    },
    "CommitChanges_1": {
      "name": "CommitChanges",
      "id": 1,
      "x": 400.0,
      "y": 400.0,
      "inputs": [
        {
          "name": "branch_prefix",
          "required": true,
          "type": "string"
        },
        {
          "name": "branch_suffix",
          "required": true,
          "type": "string"
        },
        {
          "name": "disable_branch",
          "required": true,
          "type": "boolean"
        },
        {
          "name": "force_branch_creation",
          "required": true,
          "type": "boolean"
        },
        {
          "name": "modified_code_files",
          "required": true,
          "type": "json"
        }
      ],
      "outputs": [
        {
          "name": "base_branch",
          "required": false,
          "type": "string"
        },
        {
          "name": "target_branch",
          "required": false,
          "type": "string"
        }
      ],
      "user_assigned_inputs": {
        "disable_branch": "false",
        "force_branch_creation": "true"
      }
    },
    "CreatePR_1": {
      "name": "CreatePR",
      "id": 1,
      "x": 592.0,
      "y": 485.0,
      "inputs": [
        {
          "name": "base_branch",
          "required": false,
          "type": "string"
        },
        {
          "name": "disable_pr",
          "required": false,
          "type": "boolean"
        },
        {
          "name": "force_pr_creation",
          "required": false,
          "type": "boolean"
        },
        {
          "name": "github_api_key",
          "required": false,
          "type": "string"
        },
        {
          "name": "gitlab_api_key",
          "required": false,
          "type": "string"
        },
        {
          "name": "pr_body",
          "required": false,
          "type": "string"
        },
        {
          "name": "pr_title",
          "required": false,
          "type": "string"
        },
        {
          "name": "scm_url",
          "required": false,
          "type": "string"
        },
        {
          "name": "target_branch",
          "required": true,
          "type": "string"
        }
      ],
      "outputs": [
        {
          "name": "pr_url",
          "required": false,
          "type": "string"
        }
      ],
      "user_assigned_inputs": {
        "force_pr_creation": "true",
        "disable_pr": "false"
      }
    }
  },
  "edges": [
    {
      "source": "ScanSemgrep_1",
      "target": "ExtractCode_1"
    },
    {
      "source": "ExtractCode_1",
      "target": "PreparePrompt_1"
    },
    {
      "source": "PreparePrompt_1",
      "target": "CallLLM_1"
    },
    {
      "source": "CallLLM_1",
      "target": "ExtractModelResponse_1"
    },
    {
      "source": "ExtractModelResponse_1",
      "target": "ModifyCode_1"
    },
    {
      "source": "ModifyCode_1",
      "target": "PreparePR_1"
    },
    {
      "source": "ModifyCode_1",
      "target": "CommitChanges_1"
    },
    {
      "source": "CommitChanges_1",
      "target": "CreatePR_1"
    },
    {
      "source": "PreparePR_1",
      "target": "CreatePR_1"
    },
    {
      "source": "ScanSemgrep_1",
      "target": "ExtractCode_1"
    },
    {
      "source": "ExtractCode_1",
      "target": "PreparePrompt_1"
    },
    {
      "source": "PreparePrompt_1",
      "target": "CallLLM_1"
    },
    {
      "source": "CallLLM_1",
      "target": "ExtractModelResponse_1"
    },
    {
      "source": "ModifyCode_1",
      "target": "CommitChanges_1"
    },
    {
      "source": "PreparePR_1",
      "target": "CreatePR_1"
    }
  ]
}